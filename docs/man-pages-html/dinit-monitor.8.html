<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DINIT-MONITOR(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DINIT-MONITOR(8)</td>
    <td class="head-vol">Dinit - service management system</td>
    <td class="head-rtitle">DINIT-MONITOR(8)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">dinit-monitor - monitor services supervised by Dinit</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp HP"><b>dinit-monitor</b> [<i>options</i>] {<b>-c</b>
    <i>command</i>, <b>--command</b> <i>command</i>} <i>service-name</i>
    [<i>service-name</i>...]</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp"><b>dinit-monitor</b> is a utility to monitor the state of one or
    more services managed by the <b>dinit</b> daemon. Changes in service state
    are reported by the execution of the specified command.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="GENERAL_OPTIONS"><a class="permalink" href="#GENERAL_OPTIONS">GENERAL
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt id="help"><a class="permalink" href="#help"><b>--help</b></a></dt>
  <dd>Display brief help text and then exit.</dd>
  <dt id="version"><a class="permalink" href="#version"><b>--version</b></a></dt>
  <dd>Display version and then exit.</dd>
  <dt id="s"><a class="permalink" href="#s"><b>-s</b>, <b>--system</b></a></dt>
  <dd>Control the system init process (this is the default when run as root).
      This option determines the default path to the control socket used to
      communicate with the <b>dinit</b> daemon process (it does not override the
      <b>-p</b> option).</dd>
  <dt id="u"><a class="permalink" href="#u"><b>-u</b>, <b>--user</b></a></dt>
  <dd>Control the user init process (this is the default when not run as root).
      This option determines the default path to the control socket used to
      communicate with the <b>dinit</b> daemon process (it does not override the
      <b>-p</b> option).</dd>
  <dt id="socket"><a class="permalink" href="#socket"><b>--socket-path</b>
    <i>socket-path</i>, <b>-p</b> <i>socket-path</i></a></dt>
  <dd>Specify the path to the socket used for communicating with the service
      manager daemon. When not specified, the <i>DINIT_SOCKET_PATH</i>
      environment variable is read, otherwise Dinit's default values are
    used.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="STATUS_REPORT_OPTIONS"><a class="permalink" href="#STATUS_REPORT_OPTIONS">STATUS
  REPORT OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt id="command"><a class="permalink" href="#command"><b>--command</b>
    <i>command</i>, <b>-c</b> <i>command</i></a></dt>
  <dd>Execute the specified <i>command</i> when the service status changes. In
      <i>command</i>, <b>%n</b> will be substituted with the service name and
      <b>%s</b> will be substituted with a textual description of the new status
      (<b>started</b>, <b>stopped</b> or <b>failed</b>). A double percent sign
      (<b>%%</b>) is substituted with a single percent sign character.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="OPERATION"><a class="permalink" href="#OPERATION">OPERATION</a></h1>
<p class="Pp">The <b>dinit-monitor</b> program will wait until a monitored
    service changes status, and execute the notification command. When execution
    of the notification command completes, dinit-monitor will resume monitoring
    of service status.</p>
<p class="Pp">The monitoring provided by <b>dinit-monitor</b> is not intended to
    be used for system-critical purposes. If system load is particularly high,
    for example, notifications may be skipped.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><b>dinit</b>(8), <b>dinitctl</b>(8).</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Dinit, and this manual, were written by Davin McCall.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">October 2022</td>
    <td class="foot-os">Dinit 0.16.0</td>
  </tr>
</table>
</body>
</html>
